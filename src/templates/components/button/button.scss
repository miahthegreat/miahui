@use 'sass:map';

$button-variants: (
  default: (
    bg: var(--miahui-primary),
    color: var(--miahui-primary-foreground),
    hover-bg: var(--miahui-primary-hover),
  ),
  destructive: (
    bg: var(--miahui-destructive),
    color: var(--miahui-destructive-foreground),
    hover-bg: var(--miahui-destructive-hover),
  ),
  outline: (
    border: 1px solid var(--miahui-input),
    bg: var(--miahui-background),
    hover-bg: var(--miahui-accent),
    hover-color: var(--miahui-accent-foreground),
  ),
  secondary: (
    bg: var(--miahui-secondary),
    color: var(--miahui-secondary-foreground),
    hover-bg: var(--miahui-secondary-hover),
  ),
  ghost: (
    hover-bg: var(--miahui-accent),
    hover-color: var(--miahui-accent-foreground),
  ),
  link: (
    color: var(--miahui-primary),
    text-decoration: underline,
    text-underline-offset: 4px,
  ),
);

$button-sizes: (
  default: (
    height: 2.5rem,
    padding: 0.5rem 1rem,
  ),
  sm: (
    height: 2.25rem,
    padding: 0 0.75rem,
  ),
  lg: (
    height: 2.75rem,
    padding: 0 2rem,
  ),
  icon: (
    height: 2.5rem,
    width: 2.5rem,
  ),
);

.miahui-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  font-weight: 500;
  transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
  outline: none;

  &:focus-visible {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 2px var(--miahui-ring), 0 0 0 4px var(--miahui-ring-offset);
  }

  &:disabled {
    pointer-events: none;
    opacity: 0.5;
  }

  // Variants
  @each $variant, $styles in $button-variants {
    &--#{$variant} {
      @each $prop, $value in $styles {
        #{$prop}: #{$value};
      }
    }
  }

  // Sizes
  @each $size, $styles in $button-sizes {
    &--#{$size} {
      @each $prop, $value in $styles {
        #{$prop}: #{$value};
      }
    }
  }
}

